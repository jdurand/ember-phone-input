{"version":3,"file":"phone-input.js","sources":["../../src/components/phone-input.hbs","../../src/components/phone-input.ts"],"sourcesContent":["import { precompileTemplate } from \"@ember/template-compilation\";\nexport default precompileTemplate(\"<input\\n  disabled={{this.disabled}}\\n  required={{this.required}}\\n  autocomplete={{this.autocomplete}}\\n  ...attributes\\n  {{on \\'input\\' this.onInput}}\\n  {{did-insert this.onDidInsert}}\\n  {{did-update this.onDidUpdate @country @number}}\\n  {{will-destroy this.onDestroy}}\\n  data-test-loading-iti={{this.isLoadingIntlTelInput}}\\n  type={{this.type}}\\n/>\")","import { action } from '@ember/object';\nimport { assert } from '@ember/debug';\nimport { inject as service } from '@ember/service';\nimport { isPresent } from '@ember/utils';\nimport Component from '@glimmer/component';\nimport type Owner from '@ember/owner';\nimport type PhoneInputService from '../services/phone-input';\n\nimport 'intl-tel-input/build/css/intlTelInput.css';\nimport '../styles/styles.css';\n\nexport interface MetaData {\n  extension: string;\n  selectedCountryData: intlTelInput.CountryData;\n  isValidNumber: boolean;\n  numberFormat: {\n    E164: string;\n    INTERNATIONAL: string;\n    NATIONAL: string;\n    RFC3966: string;\n  } | null;\n}\n\nexport interface PhoneInputArgs {\n  number: string | null;\n  country?: string;\n  disabled?: boolean;\n  required?: boolean;\n  autocomplete?: string | null;\n  allowDropdown?: boolean;\n  autoPlaceholder?: 'aggressive' | 'off' | 'polite' | undefined;\n  customPlaceholder?: string | null;\n  initialCountry?: string;\n  onlyCountries?: string[];\n  preferredCountries?: string[];\n  separateDialCode?: boolean;\n  intlTelInputOptions?: object;\n  onInitialize?: (phoneInputInstance: PhoneInputComponent) => void;\n  update: (number: string | null, meta: MetaData) => void;\n  onError?: (error: unknown) => void;\n}\n\nexport interface PhoneInputSignature {\n  Element: HTMLInputElement;\n  Args: PhoneInputArgs;\n}\n\n/**\n  A phone-input component. Usage:\n  ```hbs\n    <PhoneInput\n      allowDropdown=false\n      autoPlaceholder='aggressive'\n      customPlaceholder='Enter phone number'\n      disabled=true\n      required=required\n      autocomplete=autocomplete\n      initialCountry='fr'\n      number='123'\n      onlyCountries=europeanCountries\n      preferredCountries=englishSpeakingCountries\n      separateDialCode=true\n      intlTelInputOptions=(hash strictMode=true)\n      onInitialize=(action 'handleInit')\n      update=(action 'handleUpdate')\n    />\n  ```\n\n  @class PhoneInput\n  @public\n*/\nexport default class PhoneInputComponent extends Component<PhoneInputSignature> {\n  @service declare phoneInput: PhoneInputService;\n\n  isLoadingIntlTelInput = false;\n  type = 'tel';\n  onInitialize: (phoneInputInstance: PhoneInputComponent) => void;\n  update: (number: string | null, meta: MetaData) => void;\n  private intlTelInputInstance: intlTelInput.Plugin | null = null;\n\n  constructor(owner: Owner, args: PhoneInputArgs) {\n    super(owner, args);\n\n    /**\n     * You can implement this function to retrieve the phoneInput instance\n     * @argument onInitialize\n     * @param {PhoneInputComponent} reference to the phoneInput instance\n     */\n\n    this.onInitialize = this.args.onInitialize || function (): void {};\n\n    /**\n     * You have to implement this function to update the `number`.\n     * @argument update\n     * @param {string} number The international phoneNumber\n     * @param {Object} metadata The phoneNumber metadata\n     * @param {string} metadata.extension The extension part of the current number, so if the number was '+1 (702) 123-1234 ext. 12345' this would return '12345'.\n     * @param {Object} metadata.selectedCountryData The country data for the currently selected flag.\n     * @param {boolean} metadata.isValidNumber The validity of the current `phoneNumber`.\n     */\n\n    this.update = this.args.update || function (): void {};\n\n    if (this.customPlaceholder) {\n      assert(\n        '`customPlaceholder` must be of type string',\n        typeof this.customPlaceholder === 'string'\n      );\n    }\n\n    const validAutoPlaceholder = [\n      'polite',\n      'aggressive',\n      'off',\n      undefined\n    ].includes(this.autoPlaceholder);\n\n    assert(\n      \"`autoPlaceholder` possible values are 'polite', 'aggressive' and 'off'\",\n      validAutoPlaceholder\n    );\n\n    if (this.intlTelInputOptions) {\n      assert(\n        '`intlTelInputOptions` must be of type string',\n        typeof this.intlTelInputOptions === 'object'\n      );\n    }\n  }\n\n  /**\n   * It will force the selected country. Set the country by it's country code.\n   * Useful if you want to provide the component with a country, instead of\n   * using the built-in country dropdown.\n   * Defaults to ''.\n   * @argument country\n   * @type {string}\n   */\n  get country(): string {\n    return this.args.country || '';\n  }\n\n  /**\n   * The international phone number. This is the main data supposed\n   * to be persisted / handled.\n   * @argument number\n   * @type {string|null}\n   */\n  get number(): string | null {\n    return this.args.number || null;\n  }\n\n  /**\n   * Setting this to true will disable the input and the country dropdown.\n   * Defaults to `false`\n   * @argument disabled\n   * @type {boolean}\n   */\n  get disabled(): boolean {\n    return this.args.disabled || false;\n  }\n\n  /**\n   * Setting this to true will make the input field required. This will enable client side form validation.\n   * Defaults to `false`\n   * @argument required\n   * @type {boolean}\n   */\n  get required(): boolean {\n    return this.args.required || false;\n  }\n\n  /**\n   * `autocomplete` attribute on input field. Can be used to support browser autocompletion.\n   * Defaults to `null`\n   * @argument autocomplete\n   * @type {string|null}\n   */\n  get autocomplete(): string | null {\n    return this.args.autocomplete || null;\n  }\n\n  /**\n   * Whether or not to allow the dropdown. If disabled, there is no dropdown arrow, and the selected flag is not clickable. Also we display the selected flag on the right instead because it is just a marker of state.\n   * @argument allowDropdown\n   * @type {boolean}\n   */\n  get allowDropdown(): boolean {\n    return isPresent(this.args.allowDropdown) ? this.args.allowDropdown : true;\n  }\n\n  /**\n   * Add or remove input placeholder with an example number for the selected\n   * country. Possible values are 'polite', 'aggressive' and 'off'. Defaults to\n   * 'polite'.\n   * @argument autoPlaceholder\n   * @type {'aggressive' | 'off' | 'polite' | undefined}\n   */\n\n  get autoPlaceholder(): 'aggressive' | 'off' | 'polite' | undefined {\n    return this.args.autoPlaceholder || 'polite';\n  }\n\n  /**\n   * Replace the auto placeholder with a custom placeholder.\n   * If defined, must return a string. Defaults to null.\n   * @argument customPlaceholder\n   * @type {string|null}\n   */\n  get customPlaceholder(): string | null {\n    return this.args.customPlaceholder || null;\n  }\n\n  /**\n   * It will just be the first country in the list. Set the initial country by\n   * its country code. Defaults to ''.\n   * @argument initialCountry\n   * @type {string}\n   */\n  get initialCountry(): string {\n    return this.args.initialCountry || '';\n  }\n\n  /**\n   * Display only the countries you specify -\n   * [see example](http://jackocnr.com/lib/intl-tel-input/examples/gen/only-countries-europe.html).\n   * @argument onlyCountries\n   * @type {Array}\n   */\n\n  get onlyCountries(): string[] {\n    return this.args.onlyCountries || Array<string>();\n  }\n\n  /**\n   * Specify the countries to appear at the top of the list.\n   * @argument preferredCountries\n   * @type {Array}\n   */\n  get preferredCountries(): string[] {\n    return this.args.preferredCountries || ['us', 'gb'];\n  }\n\n  /**\n   * Display the country dial code next to the selected flag so it's not part of the typed number\n   * @argument separateDialCode\n   * @type {boolean}\n   */\n  get separateDialCode(): boolean {\n    return this.args.separateDialCode || false;\n  }\n\n  /**\n   * Pass in options directly to intlTelInput.\n   * Defaults to null.\n   * @argument intlTelInputOptions\n   * @type {object|null}\n   */\n  get intlTelInputOptions(): object | null {\n    return this.args.intlTelInputOptions || null;\n  }\n\n  @action\n  onInput(event?: Event): boolean {\n    const internationalPhoneNumber =\n      this.intlTelInputInstance?.getNumber() ??\n      (event?.target as HTMLInputElement).value;\n\n    const meta = this.metaData(this.intlTelInputInstance);\n    this.update(internationalPhoneNumber, meta);\n\n    return true;\n  }\n\n  @action\n  onDidUpdate(): void {\n    this.formatNumber();\n  }\n\n  @action\n  onDidInsert(element: HTMLInputElement): void {\n    this.loadAndSetup(element);\n  }\n\n  @action\n  onDestroy(element: HTMLInputElement): void {\n    this.intlTelInputInstance?.destroy();\n    element.removeEventListener('countrychange', this.onCountryChange);\n  }\n\n  private async loadAndSetup(element: HTMLInputElement): Promise<void> {\n    try {\n      this.isLoadingIntlTelInput = true;\n\n      await this.phoneInput.load();\n\n      // Even if the above promise resolves, it might be at the end of the\n      // component lifecycle\n      if (this.isDestroying || this.isDestroyed) {\n        return;\n      }\n\n      this.setupLibrary(element);\n\n      this.formatNumber();\n\n      element.addEventListener(\n        'countrychange',\n        this.onCountryChange.bind(this)\n      );\n    } catch (error) {\n      this.args.onError?.(error);\n    } finally {\n      if (!this.isDestroying && !this.isDestroyed) {\n        this.isLoadingIntlTelInput = false;\n      }\n    }\n  }\n\n  private formatNumber(): void {\n    if (!this.intlTelInputInstance) {\n      return;\n    }\n\n    if (this.country) {\n      this.intlTelInputInstance.setCountry(this.country);\n    }\n\n    if (this.number) {\n      this.intlTelInputInstance.setNumber(this.number);\n    }\n  }\n\n  private setupLibrary(element: HTMLInputElement): void {\n    if (!this.phoneInput.intlTelInput) {\n      return;\n    }\n\n    const {\n      allowDropdown,\n      autoPlaceholder,\n      customPlaceholder,\n      initialCountry,\n      onlyCountries,\n      preferredCountries,\n      separateDialCode,\n      intlTelInputOptions\n    } = this;\n\n    let options: intlTelInput.Options = {\n      autoInsertDialCode: false,\n      nationalMode: true,\n      allowDropdown,\n      autoPlaceholder,\n      initialCountry,\n      onlyCountries,\n      preferredCountries,\n      separateDialCode\n    };\n\n    if (customPlaceholder) {\n      options.customPlaceholder = (): string => customPlaceholder;\n    }\n\n    if (intlTelInputOptions) {\n      options = { ...options, ...intlTelInputOptions };\n    }\n\n    const intlTelInputInstance = this.phoneInput.intlTelInput(element, options);\n\n    if (this.number) {\n      intlTelInputInstance.setNumber(this.number);\n    }\n\n    this.intlTelInputInstance = intlTelInputInstance;\n\n    if (this.initialCountry) {\n      this.intlTelInputInstance.setCountry(this.initialCountry);\n    }\n\n    this.onInitialize(this);\n\n    this.update(this.number, this.metaData(intlTelInputInstance));\n  }\n\n  private metaData(intlTelInputPlugin: intlTelInput.Plugin | null): MetaData {\n    if (!intlTelInputPlugin) {\n      // Libraries may rely on always receiving an object\n      return {} as MetaData;\n    }\n\n    const extension = intlTelInputPlugin.getExtension();\n    const selectedCountryData = intlTelInputPlugin.getSelectedCountryData();\n    const isValidNumber = intlTelInputPlugin.isValidNumber();\n    const E164 = intlTelInputPlugin.getNumber(\n      intlTelInputUtils.numberFormat.E164\n    );\n    const INTERNATIONAL = intlTelInputPlugin.getNumber(\n      intlTelInputUtils.numberFormat.INTERNATIONAL\n    );\n    const NATIONAL = intlTelInputPlugin.getNumber(\n      intlTelInputUtils.numberFormat.NATIONAL\n    );\n    const RFC3966 = intlTelInputPlugin.getNumber(\n      intlTelInputUtils.numberFormat.RFC3966\n    );\n\n    return {\n      extension,\n      selectedCountryData,\n      isValidNumber,\n      numberFormat: isValidNumber\n        ? {\n            E164,\n            INTERNATIONAL,\n            NATIONAL,\n            RFC3966\n          }\n        : null\n    };\n  }\n\n  private onCountryChange(): void {\n    const selectedCountry = this.intlTelInputInstance?.getSelectedCountryData();\n\n    if (selectedCountry?.iso2) {\n      this.intlTelInputInstance?.setCountry(selectedCountry.iso2);\n    }\n\n    this.onInput();\n  }\n}\n"],"names":["PhoneInputComponent","_class","Component","constructor","owner","args","_initializerDefineProperty","_descriptor","_defineProperty","onInitialize","update","customPlaceholder","assert","validAutoPlaceholder","undefined","includes","autoPlaceholder","intlTelInputOptions","country","number","disabled","required","autocomplete","allowDropdown","isPresent","initialCountry","onlyCountries","Array","preferredCountries","separateDialCode","onInput","event","internationalPhoneNumber","intlTelInputInstance","getNumber","target","value","meta","metaData","onDidUpdate","formatNumber","onDidInsert","element","loadAndSetup","onDestroy","destroy","removeEventListener","onCountryChange","isLoadingIntlTelInput","phoneInput","load","isDestroying","isDestroyed","setupLibrary","addEventListener","bind","error","onError","setCountry","setNumber","intlTelInput","options","autoInsertDialCode","nationalMode","intlTelInputPlugin","extension","getExtension","selectedCountryData","getSelectedCountryData","isValidNumber","E164","intlTelInputUtils","numberFormat","INTERNATIONAL","NATIONAL","RFC3966","selectedCountry","iso2","_applyDecoratedDescriptor","prototype","service","configurable","enumerable","writable","initializer","action","Object","getOwnPropertyDescriptor","setComponentTemplate","TEMPLATE"],"mappings":"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"}